---
import Layout from '../../layouts/Layout.astro';
import MasonryGallery from '../../components/MasonryGallery.tsx';
import eventsData from '../../data/events.json';
import type { GalleryImage } from '../../data/types';

// Sort images: tier 1 first, then 2, then 3; within each tier, newest first
const sortedImages = [...eventsData.images].sort((a, b) => {
  if (a.tier !== b.tier) {
    return a.tier - b.tier;
  }
  return new Date(b.date).getTime() - new Date(a.date).getTime();
}) as GalleryImage[];
---

<Layout 
  title="Event Photography - Anu Photography"
  description={eventsData.category.description}
>
  <MasonryGallery images={sortedImages} category={eventsData.category.name} client:load />
</Layout>
